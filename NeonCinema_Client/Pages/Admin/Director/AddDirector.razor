@page "/addDirector"
@using NeonCinema_Application.DataTransferObject.Directors
@using NeonCinema_Client.Data.IServices.Director
@using NeonCinema_Domain.Enum
@inject IDirectorService SV
@inject NavigationManager NavigationManager
@layout LayoutAdmin
@inject HttpClient _http
<link rel="stylesheet" href="/css/Director/Directorr.css">
<h3 class="text-center mb-4">THÊM ĐẠO DIỄN</h3>


<div class="drt">
    <EditForm Model="newdirector" OnValidSubmit="HandleValidSubmit" class="container form-container">
        <div class="row mb-3">
            <div class="col-md-6">
                <label class="form-label">Full Name:</label>
                <InputText @bind-Value="newdirector.FullName" class="form-control" />
            </div>

            <div class="col-md-6">
                <label class="form-label">Gender:</label>
                <InputSelect id="gender" class="form-select" @bind-Value="newdirector.Gender" required>
                    <option value="">-- Select Gender --</option>
                    <option value="@(EntityStatus.Men)">Nam</option>
                    <option value="@(EntityStatus.Girl)">Nữ</option>
                </InputSelect>
                <ValidationMessage For="@(() => newdirector.Gender)" />
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label class="form-label">Nationality:</label>
                <InputText @bind-Value="newdirector.Nationality" class="form-control" />
            </div>

            <div class="col-md-6">
                <label class="form-label">Status:</label>
                <InputSelect id="status" class="form-select" @bind-Value="newdirector.Status">
                    <option value="@(EntityStatus.Active)">Active</option>
                    <option value="@(EntityStatus.Locked)">Inactive</option>
                </InputSelect>
                <ValidationMessage For="@(() => newdirector.Status)" />
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-12">
                <label class="form-label">Biography:</label>
                <InputTextArea @bind-Value="newdirector.Biography" class="form-control" rows="3" />
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-12">
                <label class="form-label">Address:</label>
                <InputText @bind-Value="newdirector.Address" class="form-control" />
            </div>
        </div>

        <div class="d-flex justify-content-center mt-4">
            <button type="submit" class="btn btn-primary me-2">Save</button>
            <button type="button" class="btn btn-secondary" @onclick="NavigateBack">Cancel</button>
        </div>
    </EditForm>
</div>
    
<style>
    .drt
    {
        width: 70%;
        margin-left: 200px;
    }
</style>

@code {
    
    private CreateDirectorRequest newdirector = new CreateDirectorRequest();
    private async Task HandleValidSubmit()
    {
       

        

        await SV.CreateDirector(newdirector);
        NavigationManager.NavigateTo("/listDirector");
    }

    private void NavigateBack()
    {
        NavigationManager.NavigateTo("/listDirector");
    }
}
